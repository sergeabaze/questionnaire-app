<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Questionnaire Drogue et Alcool - Association Mains sur le Coeur</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="config.js"></script>
    <script src="script.js"></script>
</head>
<body class="bg-light">
    <!-- Bannière -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-heart-fill me-2"></i>
                Association Mains sur le Coeur
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Questionnaire</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="consulter.html">Consulter les réponses</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container py-5">
        <!-- En-tête de la page -->
        <div class="text-center mb-5">
            <h1 class="display-4 text-primary mb-3">Questionnaire sur la consommation de drogues et d'alcool</h1>
            <p class="lead text-muted">Vos réponses nous aident à mieux comprendre et à mieux vous accompagner</p>
        </div>
          <form id="survey-form" class="needs-validation" novalidate>
            <!-- Section 1: Informations d'identification -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-primary text-white">
                    <h2 class="h5 mb-0">Identification</h2>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="lastName" class="form-label">Nom</label>
                            <input type="text" class="form-control" id="lastName" name="lastName" required>
                            <div class="invalid-feedback">
                                Veuillez entrer votre nom
                            </div>
                        </div>

                        <div class="col-md-6">
                            <label for="firstName" class="form-label">Prénom</label>
                            <input type="text" class="form-control" id="firstName" name="firstName" required>
                            <div class="invalid-feedback">
                                Veuillez entrer votre prénom
                            </div>
                        </div>

                        <div class="col-12">
                            <label for="email" class="form-label">Adresse courriel</label>
                            <input type="email" class="form-control" id="email" name="email" required>
                            <div class="form-text text-muted">
                                Cette adresse servira d'identifiant unique
                            </div>
                            <div class="invalid-feedback">
                                Veuillez entrer une adresse email valide
                            </div>
                        </div>
                    </div>
                </div>
            </div>            <!-- Section 2: Informations personnelles -->
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-primary text-white">
                    <h2 class="h5 mb-0">1. Informations personnelles</h2>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-4">
                            <label for="age" class="form-label">Âge</label>
                            <input type="number" class="form-control" id="age" name="age" required min="18" max="120">
                            <div class="form-text text-muted">
                                Vous devez avoir au moins 18 ans
                            </div>
                            <div class="invalid-feedback">
                                Veuillez entrer un âge valide (18-120)
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label for="gender" class="form-label">Genre</label>
                            <select class="form-select" id="gender" name="gender" required>
                                <option value="">Sélectionnez</option>
                                <option value="male">Masculin</option>
                                <option value="female">Féminin</option>
                                <option value="other">Autre</option>
                            </select>
                            <div class="invalid-feedback">
                                Veuillez sélectionner votre genre
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label for="occupation" class="form-label">Situation professionnelle</label>
                            <select class="form-select" id="occupation" name="occupation" required>
                                <option value="">Sélectionnez</option>
                                <option value="student">Étudiant(e)</option>
                                <option value="employed">Employé(e)</option>
                                <option value="unemployed">Sans emploi</option>
                                <option value="retired">Retraité(e)</option>
                                <option value="other">Autre</option>
                            </select>
                            <div class="invalid-feedback">
                                Veuillez sélectionner votre situation
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Consommation d'alcool -->
            <section class="form-section">
                <h2>2. Consommation d'alcool</h2>
                <div class="form-group">
                    <label>Consommez-vous de l'alcool ?</label>
                    <div class="radio-group">
                        <input type="radio" id="alcohol-yes" name="alcohol" value="yes" required>
                        <label for="alcohol-yes">Oui</label>
                        <input type="radio" id="alcohol-no" name="alcohol" value="no" required>
                        <label for="alcohol-no">Non</label>
                    </div>
                </div>

                <div class="form-group alcohol-frequency-group" style="display: none;">
                    <label for="alcohol-frequency">Si oui, à quelle fréquence ?</label>
                    <select id="alcohol-frequency" name="alcohol-frequency">
                        <option value="">Sélectionnez</option>
                        <option value="daily">Quotidiennement</option>
                        <option value="weekly">Hebdomadaire</option>
                        <option value="monthly">Mensuel</option>
                        <option value="rarely">Rarement</option>
                    </select>
                </div>

                <div class="form-group alcohol-quantity-group" style="display: none;">
                    <label for="alcohol-quantity">Quantité moyenne par occasion :</label>
                    <select id="alcohol-quantity" name="alcohol-quantity">
                        <option value="">Sélectionnez</option>
                        <option value="1-2">1-2 verres</option>
                        <option value="3-4">3-4 verres</option>
                        <option value="5-6">5-6 verres</option>
                        <option value="more">Plus de 6 verres</option>
                    </select>
                </div>
            </section>

            <!-- Section 4: Consommation de drogues -->
            <section class="form-section">
                <h2>3. Consommation de drogues</h2>
                <div class="form-group">
                    <label>Avez-vous déjà consommé des drogues ?</label>
                    <div class="radio-group">
                        <input type="radio" id="drugs-yes" name="drugs" value="yes" required>
                        <label for="drugs-yes">Oui</label>
                        <input type="radio" id="drugs-no" name="drugs" value="no" required>
                        <label for="drugs-no">Non</label>
                    </div>
                </div>

                <div class="form-group drugs-types-group" style="display: none;">
                    <label>Types de drogues consommées :</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="cannabis" name="drug-type" value="cannabis">
                        <label for="cannabis">Cannabis</label>
                        <input type="checkbox" id="cocaine" name="drug-type" value="cocaine">
                        <label for="cocaine">Cocaïne</label>
                        <input type="checkbox" id="ecstasy" name="drug-type" value="ecstasy">
                        <label for="ecstasy">Ecstasy</label>
                        <input type="checkbox" id="heroin" name="drug-type" value="heroin">
                        <label for="heroin">Héroïne</label>
                        <input type="checkbox" id="amphetamines" name="drug-type" value="amphetamines">
                        <label for="amphetamines">Amphétamines</label>
                        <input type="checkbox" id="other-drugs" name="drug-type" value="other">
                        <label for="other-drugs">Autres</label>
                    </div>
                </div>

                <div class="form-group other-drugs-group" style="display: none;">
                    <label for="other-drugs-text">Précisez les autres drogues :</label>
                    <input type="text" id="other-drugs-text" name="other-drugs-text">
                </div>
            </section>

            <!-- Section 5: Contexte de consommation -->
            <section class="form-section">
                <h2>4. Contexte de consommation</h2>
                <div class="form-group">
                    <label>Dans quelles circonstances consommez-vous ? (plusieurs choix possibles)</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="context-social" name="context" value="social">
                        <label for="context-social">Contexte social (fêtes, sorties)</label>
                        <input type="checkbox" id="context-stress" name="context" value="stress">
                        <label for="context-stress">Gestion du stress</label>
                        <input type="checkbox" id="context-alone" name="context" value="alone">
                        <label for="context-alone">Seul(e) à la maison</label>
                        <input type="checkbox" id="context-work" name="context" value="work">
                        <label for="context-work">Au travail/études</label>
                    </div>
                </div>
            </section>

            <!-- Section 6: Impact sur la vie quotidienne -->
            <section class="form-section">
                <h2>5. Impact sur la vie quotidienne</h2>
                <div class="form-group">
                    <label for="impact">Comment évaluez-vous l'impact de votre consommation sur votre vie quotidienne ?</label>
                    <textarea id="impact" name="impact" rows="4" required></textarea>
                    <small class="help-text">Minimum 10 caractères</small>
                </div>

                <div class="form-group">
                    <label>Domaines affectés par votre consommation :</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="impact-work" name="impact-areas" value="work">
                        <label for="impact-work">Travail/Études</label>
                        <input type="checkbox" id="impact-family" name="impact-areas" value="family">
                        <label for="impact-family">Relations familiales</label>
                        <input type="checkbox" id="impact-social" name="impact-areas" value="social">
                        <label for="impact-social">Relations sociales</label>
                        <input type="checkbox" id="impact-health" name="impact-areas" value="health">
                        <label for="impact-health">Santé physique</label>
                        <input type="checkbox" id="impact-mental" name="impact-areas" value="mental">
                        <label for="impact-mental">Santé mentale</label>
                        <input type="checkbox" id="impact-financial" name="impact-areas" value="financial">
                        <label for="impact-financial">Situation financière</label>
                    </div>
                </div>
            </section>

            <!-- Section 7: Aide et soutien -->
            <section class="form-section">
                <h2>6. Aide et soutien</h2>
                <div class="form-group">
                    <label>Avez-vous déjà cherché de l'aide pour votre consommation ?</label>
                    <div class="radio-group">
                        <input type="radio" id="help-yes" name="help-sought" value="yes" required>
                        <label for="help-yes">Oui</label>
                        <input type="radio" id="help-no" name="help-sought" value="no" required>
                        <label for="help-no">Non</label>
                    </div>
                </div>

                <div class="form-group help-type-group" style="display: none;">
                    <label>Type d'aide recherchée :</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="help-medical" name="help-type" value="medical">
                        <label for="help-medical">Médicale</label>
                        <input type="checkbox" id="help-psychological" name="help-type" value="psychological">
                        <label for="help-psychological">Psychologique</label>
                        <input type="checkbox" id="help-support-group" name="help-type" value="support-group">
                        <label for="help-support-group">Groupe de soutien</label>
                        <input type="checkbox" id="help-other" name="help-type" value="other">
                        <label for="help-other">Autre</label>
                    </div>
                </div>
            </section>

            <div class="form-actions">
                <button type="submit">Envoyer le questionnaire</button>
                <button type="reset">Réinitialiser</button>
            </div>
        </form>

        <div id="success-message" class="message success" style="display: none;">
            Votre questionnaire a été enregistré avec succès !
        </div>

        <div class="export-section">
            <button id="export-csv" class="export-button">Exporter les réponses (CSV)</button>
        </div>
    </div>
</body>
</html>